---
layout: layouts/base.njk
marker: "making"
pagination:
  data: collections.artifactsByCreatorFamily
  size: 1
  alias: family
permalink: /making/creator/{{ family.slug }}/
eleventyComputed:
  title: "{{ family.name }} · artifacts"
---

<style>
    main {
        padding: 0;
        max-width: none;
        margin: 0;
    }

    .spread-book {
        height: 100vh;
        overflow-y: scroll;
        scroll-snap-type: y mandatory;
        scroll-behavior: smooth;
        overscroll-behavior: contain;
    }

    .spread-book::-webkit-scrollbar {
        width: 0;
        background: transparent;
    }

    .spread {
        height: 100vh;
        scroll-snap-align: start;
        scroll-snap-stop: always;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        padding: 8rem 4rem;
        align-content: center;
        box-sizing: border-box;
    }

    .spread.header-spread {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        padding-left: 8rem;
    }

    .header-spread .back-link {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.65rem;
        color: var(--ink-faint);
        text-decoration: none;
        margin-bottom: 2rem;
        transition: color 0.2s ease;
    }

    .header-spread .back-link:hover {
        color: var(--bloom);
    }

    .header-spread .creator-label {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.6rem;
        letter-spacing: 0.15em;
        color: var(--ink-ghost);
        text-transform: uppercase;
        margin-bottom: 0.75rem;
    }

    .header-spread .page-title {
        font-size: 1.8rem;
        font-weight: 300;
        font-style: italic;
        margin-bottom: 1rem;
    }

    .header-spread .page-count {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.7rem;
        color: var(--ink-faint);
        margin-bottom: 3rem;
    }

    .scroll-hint {
        position: absolute;
        bottom: 4rem;
        left: 50%;
        transform: translateX(-50%);
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.65rem;
        color: var(--ink-ghost);
        text-align: center;
        opacity: 1;
        transition: opacity 0.5s ease;
    }

    .scroll-hint.hidden {
        opacity: 0;
        pointer-events: none;
    }

    .spread-text {
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .spread-poem {
        margin-bottom: 2rem;
    }

    .spread-line {
        display: block;
        font-size: 1.1rem;
        line-height: 2;
        color: var(--ink-faint);
        transition: color 0.3s ease;
    }

    .spread-line:nth-child(1) { margin-left: 0; }
    .spread-line:nth-child(2) { margin-left: 1.5rem; }
    .spread-line:nth-child(3) { margin-left: 0.75rem; }
    .spread-line:nth-child(4) { margin-left: 2.25rem; }
    .spread-line:nth-child(5) { margin-left: 0.5rem; }
    .spread-line:nth-child(6) { margin-left: 1.75rem; }
    .spread-line:nth-child(7) { margin-left: 1rem; }
    .spread-line:nth-child(8) { margin-left: 2rem; }

    .spread-poem:hover .spread-line {
        color: var(--ink-light);
    }

    .spread-line.accident {
        color: var(--accident);
    }

    .spread-meta {
        border-top: 1px solid var(--ink-ghost);
        padding-top: 1.5rem;
    }

    .spread-title {
        font-size: 0.95rem;
        font-weight: 300;
        font-style: italic;
        margin-bottom: 0.5rem;
    }

    .spread-title a {
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .spread-title a:hover {
        color: var(--bloom);
    }

    .spread-info {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.6rem;
        color: var(--ink-faint);
        line-height: 1.8;
    }

    .spread-info a {
        color: var(--ink-faint);
        text-decoration: underline;
        text-decoration-color: var(--ink-ghost);
        text-underline-offset: 2px;
    }

    .spread-info a:hover {
        color: var(--bloom);
    }

    .spread-specimens {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .specimen {
        position: relative;
        overflow: hidden;
        background: var(--paper-dark);
        cursor: pointer;
        max-width: 400px;
        max-height: 60vh;
        display: flex;
        align-items: center;
        justify-content: center;
        /* Reset main.css .specimen container-level filter (Gotcha #29) */
        filter: none;
        opacity: 1;
    }

    .specimen img {
        max-width: 100%;
        max-height: 60vh;
        object-fit: contain;
        display: block;
        filter: grayscale(30%);
        opacity: 0.8;
        transition: filter 0.5s ease, opacity 0.5s ease;
    }

    .specimen:hover img {
        filter: grayscale(0%);
        opacity: 1;
    }

    /* Interactive (iframe) specimens */
    .specimen--interactive {
        position: relative;
        overflow: hidden;
    }

    .specimen-iframe {
        width: 100%;
        height: 100%;
        min-height: 400px;
        border: none;
        display: block;
        pointer-events: none;
        filter: grayscale(30%);
        opacity: 0.8;
        transition: filter 0.5s ease, opacity 0.5s ease;
    }

    .specimen--interactive:hover .specimen-iframe {
        filter: grayscale(0%);
        opacity: 1;
    }

    .specimen-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
    }

    .book-nav {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 0.5rem;
        z-index: 100;
    }

    .book-nav-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--ink-ghost);
        cursor: pointer;
        transition: background 0.2s ease;
        border: none;
        padding: 0;
    }

    .book-nav-dot:hover {
        background: var(--bloom);
    }

    .book-nav-dot.active {
        background: var(--ink);
    }

    @media (max-width: 900px) {
        .spread {
            grid-template-columns: 1fr;
            padding: 6rem 2rem;
            gap: 2rem;
        }

        .spread.header-spread {
            padding: 6rem 2rem;
        }
    }

    @media (max-width: 768px) {
        .spread-book {
            scroll-snap-type: none;
            height: auto;
            overflow-y: visible;
        }

        .spread {
            scroll-snap-align: none;
            scroll-snap-stop: normal;
            height: auto;
            min-height: auto;
            padding: 3rem 1.5rem;
            gap: 1.5rem;
        }

        .spread.header-spread {
            padding: 4rem 1.5rem 3rem;
        }

        .book-nav {
            display: none;
        }

        .scroll-hint {
            display: none;
        }

        .spread-line:nth-child(n) {
            margin-left: 0;
        }

        .spread-poem {
            font-size: 0.95rem;
        }

        .specimen img,
        .specimen:hover img {
            filter: none;
            opacity: 1;
        }

        .specimen-iframe,
        .specimen--interactive:hover .specimen-iframe {
            filter: none;
            opacity: 1;
        }
    }
</style>

<div class="spread-book" id="spread-book">

    <!-- Header Spread -->
    <section class="spread header-spread" data-spread="0">
        <a href="/making/#artifacts" class="back-link">← all artifacts</a>
        <div class="creator-label">made by</div>
        <h1 class="page-title">{{ family.name }}</h1>
        <p class="page-count">{{ family.count }} artifact{% if family.count != 1 %}s{% endif %}</p>

        <div class="scroll-hint" id="scroll-hint">
            ↓ scroll to explore
        </div>
    </section>

    <!-- Artifact Spreads -->
    {%- for artifact in family.items -%}
    <section class="spread" data-spread="{{ loop.index }}">

        <div class="spread-text">
            {%- if artifact.data.contextExcerpt -%}
            <div class="spread-poem">
                {%- if artifact.data.contextExcerpt.length -%}
                    {%- for line in artifact.data.contextExcerpt -%}
                    <span class="spread-line{% if line.accident %} accident{% endif %}">{{ line.text | default(line) }}</span>
                    {%- endfor -%}
                {%- else -%}
                    <span class="spread-line{% if artifact.data.contextExcerpt.accident %} accident{% endif %}">{{ artifact.data.contextExcerpt.text | default(artifact.data.contextExcerpt) }}</span>
                {%- endif -%}
            </div>
            {%- endif -%}

            <div class="spread-meta">
                <h2 class="spread-title"><a href="{{ artifact.url }}">{{ artifact.data.title }}</a></h2>
                <div class="spread-info">
                    {{ artifact.data.creator }}<br>
                    {{ artifact.data.medium }}{% if artifact.data.plottable %} · plottable{% endif %}<br>
                    {{ artifact.data.date | readableDate }}
                </div>
            </div>
        </div>

        <div class="spread-specimens">
            {% if artifact.data.src | isHTMLFile %}
            <a href="{{ artifact.url }}" class="specimen specimen--interactive">
                <iframe src="{{ artifact.data.src }}" title="{{ artifact.data.title }}" class="specimen-iframe" tabindex="-1" loading="lazy" sandbox="allow-scripts allow-same-origin"></iframe>
                <span class="specimen-overlay"></span>
            </a>
            {% else %}
            <a href="{{ artifact.url }}" class="specimen">
                <img src="{{ artifact.data.src }}" alt="{{ artifact.data.title }}">
            </a>
            {% endif %}
        </div>

    </section>
    {%- endfor -%}

</div>

<!-- Navigation Dots -->
<nav class="book-nav" id="book-nav">
    <button class="book-nav-dot active" data-target="0" aria-label="Go to introduction"></button>
    {%- for artifact in family.items -%}
    <button class="book-nav-dot" data-target="{{ loop.index }}" aria-label="Go to {{ artifact.data.title }}"></button>
    {%- endfor -%}
</nav>

<script>
(function() {
    const book = document.getElementById('spread-book');
    const dots = document.querySelectorAll('.book-nav-dot');
    const spreads = document.querySelectorAll('.spread');
    const scrollHint = document.getElementById('scroll-hint');

    book.addEventListener('scroll', () => {
        const scrollPos = book.scrollTop;
        const spreadHeight = window.innerHeight;
        const currentIndex = Math.round(scrollPos / spreadHeight);

        dots.forEach((dot, i) => {
            dot.classList.toggle('active', i === currentIndex);
        });

        if (scrollPos > 50 && scrollHint) {
            scrollHint.classList.add('hidden');
        }
    });

    dots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
            spreads[i].scrollIntoView({ behavior: 'smooth' });
        });
    });
})();
</script>
