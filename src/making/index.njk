---
layout: layouts/base.njk
title: making
marker: "making"
---

<style>
    /* Override base layout for full-bleed book */
    main {
        padding: 0;
        max-width: none;
        margin: 0;
    }

    /* ========================================
       Portrait Book - Scroll Snap Container
       ======================================== */

    .portrait-book {
        height: 100vh;
        overflow-y: scroll;
        scroll-snap-type: y mandatory;
        scroll-behavior: smooth;
    }

    /* Hide scrollbar but keep functionality */
    .portrait-book::-webkit-scrollbar {
        width: 0;
        background: transparent;
    }

    /* ========================================
       Individual Spread
       ======================================== */

    .portrait-spread {
        height: 100vh;
        scroll-snap-align: start;
        scroll-snap-stop: always;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        padding: 8rem 4rem;
        align-content: center;
        box-sizing: border-box;
    }

    /* ========================================
       Header Spread (First Page)
       ======================================== */

    .portrait-spread.header-spread {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        padding-left: 8rem;
        position: relative;
    }

    .header-spread .header-links {
        position: absolute;
        top: 8rem;
        right: 4rem;
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .header-spread .search-link {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.7rem;
        letter-spacing: 0.1em;
        color: var(--ink-faint);
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .header-spread .search-link:hover {
        color: var(--bloom);
    }

    .header-spread .page-marker {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.7rem;
        color: var(--ink-faint);
    }

    .header-spread .section-label {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.6rem;
        letter-spacing: 0.2em;
        color: var(--ink-ghost);
        text-transform: uppercase;
        margin-bottom: 1.5rem;
    }

    .header-spread .page-title {
        font-size: 1.2rem;
        font-weight: 400;
        margin-bottom: 3rem;
    }

    .header-spread .page-description {
        max-width: 400px;
        margin-bottom: 3rem;
    }

    .header-spread .poem-shape {
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
    }

    .header-spread .poem-line {
        font-size: 1rem;
        font-style: italic;
        color: var(--ink-light);
        line-height: 1.9;
    }

    .header-spread .poem-line:nth-child(1) { margin-left: 0; }
    .header-spread .poem-line:nth-child(2) { margin-left: 2rem; }
    .header-spread .poem-line:nth-child(3) { margin-left: 1rem; }
    .header-spread .poem-line:nth-child(4) { margin-left: 3rem; }

    .header-spread .poem-line.accident {
        color: var(--accident);
    }

    /* Filter chips */
    .filter-chips {
        display: flex;
        gap: 1.5rem;
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.7rem;
    }

    .filter-chip {
        color: var(--ink-faint);
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .filter-chip:not(.active) {
        text-decoration: underline;
        text-decoration-color: var(--ink-ghost);
        text-underline-offset: 3px;
    }

    .filter-chip:hover {
        color: var(--bloom);
    }

    .filter-chip.active {
        color: var(--ink);
        text-decoration: none;
    }

    /* Scroll hint */
    .scroll-hint {
        position: absolute;
        bottom: 4rem;
        left: 50%;
        transform: translateX(-50%);
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.65rem;
        color: var(--ink-ghost);
        text-align: center;
        opacity: 1;
        transition: opacity 0.5s ease;
    }

    .scroll-hint.hidden {
        opacity: 0;
        pointer-events: none;
    }

    /* ========================================
       Portrait Spread Layout
       ======================================== */

    .spread-prompt {
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .prompt-poem {
        margin-bottom: 2rem;
    }

    .prompt-line {
        display: block;
        font-size: 1.1rem;
        line-height: 2;
        color: var(--ink-faint);
        transition: color 0.3s ease;
    }

    .prompt-line:nth-child(1) { margin-left: 0; }
    .prompt-line:nth-child(2) { margin-left: 1.5rem; }
    .prompt-line:nth-child(3) { margin-left: 0.75rem; }
    .prompt-line:nth-child(4) { margin-left: 2.25rem; }
    .prompt-line:nth-child(5) { margin-left: 0.5rem; }
    .prompt-line:nth-child(6) { margin-left: 1.75rem; }
    .prompt-line:nth-child(7) { margin-left: 1rem; }
    .prompt-line:nth-child(8) { margin-left: 2rem; }

    .prompt-poem:hover .prompt-line {
        color: var(--ink-light);
    }

    .prompt-line.accident {
        color: var(--accident);
    }

    .spread-meta {
        border-top: 1px solid var(--ink-ghost);
        padding-top: 1.5rem;
    }

    .spread-title {
        font-size: 0.95rem;
        font-weight: 300;
        font-style: italic;
        margin-bottom: 0.5rem;
    }

    .spread-title a {
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .spread-title a:hover {
        color: var(--bloom);
    }

    .spread-info {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.6rem;
        color: var(--ink-faint);
        line-height: 1.8;
    }

    .spread-info a {
        color: var(--ink-faint);
        text-decoration: underline;
        text-decoration-color: var(--ink-ghost);
        text-underline-offset: 2px;
    }

    .spread-info a:hover {
        color: var(--bloom);
    }

    /* Visually hidden but accessible to screen readers and LLMs */
    .spread-description {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* ========================================
       Specimen Grid (Right Side)
       ======================================== */

    .spread-specimens {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        align-self: center;
    }

    /* Portrait orientation: single column, constrained height */
    .portrait-spread[data-orientation="portrait"] .spread-specimens {
        grid-template-columns: 1fr 1fr;
        max-height: 65vh;
        overflow: hidden;
    }

    .portrait-spread[data-orientation="portrait"] .specimen img {
        max-height: 30vh;
        width: auto;
        max-width: 100%;
        object-fit: contain;
        margin: 0 auto;
    }

    .specimen {
        position: relative;
        overflow: hidden;
        background: var(--paper-dark);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .specimen img {
        width: 100%;
        height: auto;
        display: block;
        filter: grayscale(30%);
        opacity: 0.8;
        transition: all 0.5s ease;
    }

    .specimen:hover img {
        filter: grayscale(0%);
        opacity: 1;
    }

    .specimen-num {
        position: absolute;
        bottom: 0.5rem;
        right: 0.5rem;
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.5rem;
        color: var(--bloom);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .specimen:hover .specimen-num {
        opacity: 1;
    }

    /* ========================================
       Position Indicator (Nav Dots)
       ======================================== */

    .book-nav {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 0.5rem;
        z-index: 100;
    }

    .book-nav-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--ink-ghost);
        cursor: pointer;
        transition: background 0.2s ease;
        border: none;
        padding: 0;
    }

    .book-nav-dot:hover {
        background: var(--bloom);
    }

    .book-nav-dot.active {
        background: var(--ink);
    }

    /* ========================================
       Tools Section (Outside Book)
       ======================================== */

    .tools-section {
        padding: 6rem 4rem;
        max-width: 1200px;
        margin: 0 auto;
        border-top: 1px solid var(--ink-ghost);
    }

    .tools-label {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.6rem;
        letter-spacing: 0.2em;
        color: var(--ink-ghost);
        text-transform: uppercase;
        margin-bottom: 2rem;
    }

    .tools-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }

    .tool-card {
        padding-top: 1rem;
        border-top: 1px solid var(--ink-ghost);
    }

    .tool-title {
        font-size: 0.9rem;
        font-weight: 400;
        margin-bottom: 0.5rem;
    }

    .tool-title a {
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .tool-title a:hover {
        color: var(--bloom);
    }

    .tool-title a.accident {
        color: var(--accident);
    }

    .tool-description {
        font-size: 0.75rem;
        color: var(--ink-light);
        line-height: 1.6;
    }

    .page-footer {
        padding: 3rem 4rem;
        border-top: 1px solid var(--ink-ghost);
        max-width: 1200px;
        margin: 0 auto;
    }

    /* ========================================
       Responsive
       ======================================== */

    @media (max-width: 900px) {
        .portrait-spread {
            grid-template-columns: 1fr;
            padding: 6rem 2rem;
            gap: 2rem;
        }

        .portrait-spread.header-spread {
            padding: 6rem 2rem;
        }

        .spread-specimens {
            max-width: 300px;
        }

        .tools-section {
            padding: 4rem 2rem;
        }

        .tools-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .page-footer {
            padding: 2rem;
        }
    }

    /* ========================================
       Mobile: Remove scroll-snap, simplify layout
       ======================================== */

    @media (max-width: 768px) {
        /* Remove scroll-snap behavior */
        .portrait-book {
            scroll-snap-type: none;
            height: auto;
            overflow-y: visible;
        }

        .portrait-spread {
            scroll-snap-align: none;
            scroll-snap-stop: normal;
            height: auto;
            min-height: auto;
            padding: 3rem 1.5rem;
            gap: 1.5rem;
        }

        .portrait-spread.header-spread {
            padding: 4rem 1.5rem 3rem;
        }

        .header-spread .header-links {
            top: 4rem;
            right: 1.5rem;
        }

        /* Hide nav dots (no function without scroll-snap) */
        .book-nav {
            display: none;
        }

        /* Hide scroll hint */
        .scroll-hint {
            display: none;
        }

        /* Prompt stagger removed for mobile scanning */
        .prompt-line:nth-child(n) {
            margin-left: 0;
        }

        .prompt-poem {
            font-size: 0.95rem;
        }

        /* Images full color on mobile (no hover to earn) */
        .specimen img,
        .specimen:hover img {
            filter: none;
            opacity: 1;
        }

        /* Tools section */
        .tools-section {
            padding: 3rem 1.5rem;
        }
    }

    /* ========================================
       Lightbox
       ======================================== */

    .lightbox {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(26, 26, 26, 0.95);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        cursor: zoom-out;
    }

    .lightbox.active {
        opacity: 1;
        visibility: visible;
    }

    .lightbox img {
        max-width: 90vw;
        max-height: 90vh;
        object-fit: contain;
    }

    .lightbox-close {
        position: absolute;
        top: 2rem;
        right: 2rem;
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.7rem;
        color: var(--ink-faint);
        background: none;
        border: none;
        cursor: pointer;
    }

    .lightbox-close:hover {
        color: var(--paper);
    }

    /* ========================================
       Artifact Book - Separate Section
       ======================================== */

    .artifact-book {
        height: 100vh;
        overflow-y: scroll;
        scroll-snap-type: y mandatory;
        scroll-behavior: smooth;
    }

    .artifact-book::-webkit-scrollbar {
        width: 0;
        background: transparent;
    }

    .artifact-spread {
        height: 100vh;
        scroll-snap-align: start;
        scroll-snap-stop: always;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        padding: 8rem 4rem;
        align-content: center;
        box-sizing: border-box;
    }

    .artifact-spread.header-spread {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        padding-left: 8rem;
        position: relative;
    }

    .artifact-spread .section-label {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.6rem;
        letter-spacing: 0.2em;
        color: var(--ink-ghost);
        text-transform: uppercase;
        margin-bottom: 1.5rem;
    }

    .artifact-spread .page-title {
        font-size: 1.2rem;
        font-weight: 400;
        margin-bottom: 3rem;
    }

    .artifact-spread .page-description {
        max-width: 400px;
        margin-bottom: 3rem;
    }

    .artifact-spread .context-poem {
        margin-bottom: 2rem;
    }

    .artifact-spread .context-line {
        display: block;
        font-size: 1.1rem;
        line-height: 2;
        color: var(--ink-faint);
        transition: color 0.3s ease;
    }

    .artifact-spread .context-line:nth-child(1) { margin-left: 0; }
    .artifact-spread .context-line:nth-child(2) { margin-left: 1.5rem; }
    .artifact-spread .context-line:nth-child(3) { margin-left: 0.75rem; }
    .artifact-spread .context-line:nth-child(4) { margin-left: 2.25rem; }
    .artifact-spread .context-line:nth-child(5) { margin-left: 0.5rem; }
    .artifact-spread .context-line:nth-child(6) { margin-left: 1.75rem; }
    .artifact-spread .context-line:nth-child(7) { margin-left: 1rem; }
    .artifact-spread .context-line:nth-child(8) { margin-left: 2rem; }

    .artifact-spread .context-poem:hover .context-line {
        color: var(--ink-light);
    }

    .artifact-spread .context-line.accident {
        color: var(--accident);
    }

    .artifact-spread .spread-meta {
        border-top: 1px solid var(--ink-ghost);
        padding-top: 1.5rem;
    }

    .artifact-spread .spread-title {
        font-size: 0.95rem;
        font-weight: 300;
        font-style: italic;
        margin-bottom: 0.5rem;
    }

    .artifact-spread .spread-title a {
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .artifact-spread .spread-title a:hover {
        color: var(--bloom);
    }

    .artifact-spread .spread-info {
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.6rem;
        color: var(--ink-faint);
        line-height: 1.8;
    }

    .artifact-spread .spread-info a {
        color: var(--ink-faint);
        text-decoration: underline;
        text-decoration-color: var(--ink-ghost);
        text-underline-offset: 2px;
    }

    .artifact-spread .spread-info a:hover {
        color: var(--bloom);
    }

    .artifact-specimens {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .artifact-specimen {
        position: relative;
        overflow: hidden;
        background: var(--paper-dark);
        cursor: pointer;
        width: 100%;
        max-width: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .artifact-specimen img {
        width: 100%;
        height: auto;
        max-height: 60vh;
        object-fit: contain;
        display: block;
        filter: grayscale(30%);
        opacity: 0.8;
        transition: all 0.5s ease;
    }

    .artifact-specimen:hover img {
        filter: grayscale(0%);
        opacity: 1;
    }

    .artifact-nav {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        display: none;
        gap: 0.5rem;
        z-index: 100;
    }

    .artifact-nav.active {
        display: flex;
    }

    .artifact-nav .book-nav-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--ink-ghost);
        cursor: pointer;
        transition: background 0.2s ease;
        border: none;
        padding: 0;
    }

    .artifact-nav .book-nav-dot:hover {
        background: var(--bloom);
    }

    .artifact-nav .book-nav-dot.active {
        background: var(--ink);
    }

    @media (max-width: 900px) {
        .artifact-spread {
            grid-template-columns: 1fr;
            padding: 6rem 2rem;
            gap: 2rem;
        }

        .artifact-spread.header-spread {
            padding: 6rem 2rem;
        }
    }

    @media (max-width: 768px) {
        .artifact-book {
            scroll-snap-type: none;
            height: auto;
            overflow-y: visible;
        }

        .artifact-spread {
            scroll-snap-align: none;
            scroll-snap-stop: normal;
            height: auto;
            min-height: auto;
            padding: 3rem 1.5rem;
            gap: 1.5rem;
        }

        .artifact-spread.header-spread {
            padding: 4rem 1.5rem 3rem;
        }

        .artifact-nav {
            display: none !important;
        }

        .artifact-spread .context-line:nth-child(n) {
            margin-left: 0;
        }

        .artifact-specimen img,
        .artifact-specimen:hover img {
            filter: none;
            opacity: 1;
        }
    }

</style>

<div class="portrait-book" id="portrait-book">

    <!-- Header Spread -->
    <section class="portrait-spread header-spread" data-spread="0" id="portraits">
        <div class="header-links">
            <a href="/search/" class="search-link">search</a>
            <span class="page-marker">002</span>
        </div>
        <h1 class="page-title">making</h1>
        <div class="section-label">PORTRAITS</div>

        <div class="page-description">
            <div class="poem-shape">
                <span class="poem-line">Prompts as poems.</span>
                <span class="poem-line">Midjourney as collaborator.</span>
                <span class="poem-line">Self-representation</span>
                <span class="poem-line accident">through machine rendering.</span>
            </div>
        </div>

        <nav class="filter-chips">
            <a href="/making/" class="filter-chip active">all</a>
            {%- for family in collections.portraitsByPrompterFamily -%}
            <a href="/making/prompter/{{ family.slug }}/" class="filter-chip">{{ family.name }}</a>
            {%- endfor -%}
        </nav>

        <div class="scroll-hint" id="scroll-hint">
            ↓ scroll to explore
        </div>
    </section>

    <!-- Portrait Spreads -->
    {%- for portrait in collections.portraits -%}
    <section class="portrait-spread" data-spread="{{ loop.index }}" data-orientation="{{ portrait.data.orientation | default('landscape') }}">

        <div class="spread-prompt">
            <div class="prompt-poem">
                {%- for line in portrait.data.prompt -%}
                <span class="prompt-line{% if line.accident %} accident{% endif %}">{{ line.text | default(line) }}</span>
                {%- endfor -%}
            </div>

            <div class="spread-meta">
                <h2 class="spread-title"><a href="{{ portrait.url }}">{{ portrait.data.title }}</a></h2>
                <div class="spread-info">
                    {{ portrait.data.generator }}{% if portrait.data.settings %} · {{ portrait.data.settings }}{% endif %}<br>
                    {% if portrait.data.prompter %}prompted by <a href="/making/prompter/{{ portrait.data.prompter | prompterFamily }}/">{{ portrait.data.prompter | prompterFamily }}</a>{% if portrait.data.prompter | prompterModel %} · <a href="/making/prompter/{{ portrait.data.prompter | slugify }}/">{{ portrait.data.prompter | prompterModel }}</a>{% endif %}<br>{% endif %}
                    {{ portrait.data.date | readableDate }}
                </div>
                {%- set firstPromptLine = portrait.data.prompt[0].text | default(portrait.data.prompt[0]) -%}
                {%- if portrait.data.description or firstPromptLine -%}
                <p class="spread-description">{{ portrait.data.description | default(firstPromptLine) | truncate(100) }}</p>
                {%- endif -%}
            </div>
        </div>

        <div class="spread-specimens">
            {%- for image in portrait.data.images -%}
            <figure class="specimen" data-src="{{ image.src }}">
                {% optimizedImage image.src, image.alt | default(portrait.data.title), "(max-width: 900px) 50vw, 25vw" %}
                <span class="specimen-num">{{ loop.index | string | padStart(2, '0') }}</span>
            </figure>
            {%- endfor -%}
        </div>

    </section>
    {%- endfor -%}

</div>

<!-- Navigation Dots -->
<nav class="book-nav" id="book-nav">
    <button class="book-nav-dot active" data-target="0" aria-label="Go to introduction"></button>
    {%- for portrait in collections.portraits -%}
    <button class="book-nav-dot" data-target="{{ loop.index }}" aria-label="Go to {{ portrait.data.title }}"></button>
    {%- endfor -%}
</nav>

<!-- Artifact Book - Separate Section -->
<div class="artifact-book" id="artifact-book">

    <!-- Artifact Header Spread -->
    <section class="artifact-spread header-spread" data-spread="0" id="artifacts">
        <div class="section-label">ARTIFACTS</div>

        <div class="page-description">
            <div class="poem-shape">
                <span class="poem-line">The thing, not the prompt.</span>
                <span class="poem-line">SVG, code, drawing—</span>
                <span class="poem-line">made directly in conversation,</span>
                <span class="poem-line accident">not rendered elsewhere.</span>
            </div>
        </div>

        <nav class="filter-chips">
            <a href="/making/#artifacts" class="filter-chip active">all</a>
            {%- for family in collections.artifactsByCreatorFamily -%}
            <a href="/making/creator/{{ family.slug }}/" class="filter-chip">{{ family.name }}</a>
            {%- endfor -%}
        </nav>

        <div class="scroll-hint" id="artifact-scroll-hint">
            ↓ scroll to explore
        </div>
    </section>

    <!-- Artifact Spreads -->
    {%- for artifact in collections.artifacts -%}
    <section class="artifact-spread" data-spread="{{ loop.index }}">

        <div class="spread-prompt">
            <div class="context-poem">
                {%- if artifact.data.contextExcerpt.length -%}
                    {%- for line in artifact.data.contextExcerpt -%}
                    <span class="context-line{% if line.accident %} accident{% endif %}">{{ line.text | default(line) }}</span>
                    {%- endfor -%}
                {%- else -%}
                    <span class="context-line{% if artifact.data.contextExcerpt.accident %} accident{% endif %}">{{ artifact.data.contextExcerpt.text | default(artifact.data.contextExcerpt) }}</span>
                {%- endif -%}
            </div>

            <div class="spread-meta">
                <h2 class="spread-title"><a href="{{ artifact.url }}">{{ artifact.data.title }}</a></h2>
                <div class="spread-info">
                    {% if artifact.data.creator %}<a href="/making/creator/{{ artifact.data.creator | creatorFamily }}/">{{ artifact.data.creator | creatorFamily }}</a>{% if artifact.data.creator | creatorModel %} · <a href="/making/creator/{{ artifact.data.creator | slugify }}/">{{ artifact.data.creator | creatorModel }}</a>{% endif %}<br>{% endif %}
                    {{ artifact.data.medium }}{% if artifact.data.plottable %} · plottable{% endif %}<br>
                    {{ artifact.data.date | readableDate }}
                </div>
                {%- set firstContextLine = artifact.data.contextExcerpt[0].text | default(artifact.data.contextExcerpt[0]) if artifact.data.contextExcerpt else '' -%}
                {%- if artifact.data.description or firstContextLine -%}
                <p class="spread-description">{{ artifact.data.description | default(firstContextLine) | truncate(100) }}</p>
                {%- endif -%}
            </div>
        </div>

        <div class="artifact-specimens">
            <a href="{{ artifact.url }}" class="artifact-specimen">
                <img src="{{ artifact.data.src }}" alt="{{ artifact.data.title }}">
            </a>
        </div>

    </section>
    {%- endfor -%}

</div>

<!-- Artifact Navigation Dots -->
<nav class="artifact-nav" id="artifact-nav">
    <button class="book-nav-dot active" data-target="0" aria-label="Go to artifacts introduction"></button>
    {%- for artifact in collections.artifacts -%}
    <button class="book-nav-dot" data-target="{{ loop.index }}" aria-label="Go to {{ artifact.data.title }}"></button>
    {%- endfor -%}
</nav>

<!-- Tools Section (Outside Book) -->
<section class="tools-section">
    <div class="tools-label">Tools</div>
    <div class="tools-grid">
        <div class="tool-card">
            <h3 class="tool-title"><a href="https://research-memex.org">Research Memex →</a></h3>
            <p class="tool-description">Making human-AI research more auditable.</p>
        </div>
        <div class="tool-card">
            <h3 class="tool-title"><a href="https://github.com/linxule/openinterviewer">Open Interviewer →</a></h3>
            <p class="tool-description">Qualitative interviews at scale.</p>
        </div>
        <div class="tool-card">
            <h3 class="tool-title"><a href="https://github.com/linxule/openai-assistants-discord-bot">Discord Literature Bot →</a></h3>
            <p class="tool-description">Discord chatbot with custom knowledge bases.</p>
        </div>
    </div>
</section>

<section class="tools-section">
    <div class="tools-label">GPTs</div>
    <div class="tools-grid">
        <div class="tool-card">
            <h3 class="tool-title"><a href="https://chat.openai.com/g/g-FvlPlwLn1-bertopic-navigator">BERTopic Navigator →</a></h3>
            <p class="tool-description">Topic modeling made navigable.</p>
        </div>
        <div class="tool-card">
            <h3 class="tool-title"><a href="https://chat.openai.com/g/g-wDUM3ows9-red-pen-scholar" class="accident">Red Pen Scholar →</a></h3>
            <p class="tool-description">Little Red Schoolhouse writing principles.</p>
        </div>
        <div class="tool-card">
            <h3 class="tool-title"><a href="https://chat.openai.com/g/g-pIFoLpzVx-academic-notes-assistant">Academic Notes Assistant →</a></h3>
            <p class="tool-description">Structured notes for research.</p>
        </div>
    </div>
</section>

<footer class="page-footer">
    <a href="/" class="back-link">← return</a>
</footer>

<script>
(function() {
    // Portrait Book
    const portraitBook = document.getElementById('portrait-book');
    const portraitDots = document.querySelectorAll('#book-nav .book-nav-dot');
    const portraitSpreads = document.querySelectorAll('.portrait-spread');
    const portraitScrollHint = document.getElementById('scroll-hint');
    const portraitNav = document.getElementById('book-nav');
    const PORTRAIT_STORAGE_KEY = 'making-portraits-scroll-position';

    // Artifact Book
    const artifactBook = document.getElementById('artifact-book');
    const artifactDots = document.querySelectorAll('#artifact-nav .book-nav-dot');
    const artifactSpreads = document.querySelectorAll('.artifact-spread');
    const artifactScrollHint = document.getElementById('artifact-scroll-hint');
    const artifactNav = document.getElementById('artifact-nav');
    const ARTIFACT_STORAGE_KEY = 'making-artifacts-scroll-position';

    // Track which book is in view
    let activeBook = 'portraits';

    // Restore portrait scroll position on load
    const savedPortraitIndex = sessionStorage.getItem(PORTRAIT_STORAGE_KEY);
    if (savedPortraitIndex !== null) {
        const index = parseInt(savedPortraitIndex, 10);
        if (index > 0 && index < portraitSpreads.length) {
            setTimeout(() => {
                portraitSpreads[index].scrollIntoView({ behavior: 'instant' });
            }, 0);
        }
    }

    // Portrait book scroll handler
    portraitBook.addEventListener('scroll', () => {
        const scrollPos = portraitBook.scrollTop;
        const spreadHeight = window.innerHeight;
        const currentIndex = Math.round(scrollPos / spreadHeight);

        sessionStorage.setItem(PORTRAIT_STORAGE_KEY, currentIndex.toString());

        portraitDots.forEach((dot, i) => {
            dot.classList.toggle('active', i === currentIndex);
        });

        if (scrollPos > 50 && portraitScrollHint) {
            portraitScrollHint.classList.add('hidden');
        }
    });

    // Portrait dot click handlers
    portraitDots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
            portraitSpreads[i].scrollIntoView({ behavior: 'smooth' });
        });
    });

    // Artifact book scroll handler
    artifactBook.addEventListener('scroll', () => {
        const scrollPos = artifactBook.scrollTop;
        const spreadHeight = window.innerHeight;
        const currentIndex = Math.round(scrollPos / spreadHeight);

        sessionStorage.setItem(ARTIFACT_STORAGE_KEY, currentIndex.toString());

        artifactDots.forEach((dot, i) => {
            dot.classList.toggle('active', i === currentIndex);
        });

        if (scrollPos > 50 && artifactScrollHint) {
            artifactScrollHint.classList.add('hidden');
        }
    });

    // Artifact dot click handlers
    artifactDots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
            artifactSpreads[i].scrollIntoView({ behavior: 'smooth' });
        });
    });

    // Intersection observer to show correct nav dots
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.5
    };

    const portraitObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                activeBook = 'portraits';
                portraitNav.style.display = 'flex';
                artifactNav.classList.remove('active');
            }
        });
    }, observerOptions);

    const artifactObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                activeBook = 'artifacts';
                portraitNav.style.display = 'none';
                artifactNav.classList.add('active');
            }
        });
    }, observerOptions);

    portraitObserver.observe(portraitBook);
    artifactObserver.observe(artifactBook);

    // Lightbox (for portraits only)
    const lightbox = document.createElement('div');
    lightbox.className = 'lightbox';
    lightbox.innerHTML = '<button class="lightbox-close">close</button><img src="" alt="">';
    document.body.appendChild(lightbox);

    const lightboxImg = lightbox.querySelector('img');
    const specimens = document.querySelectorAll('.specimen');

    specimens.forEach(specimen => {
        specimen.addEventListener('click', () => {
            const src = specimen.dataset.src || specimen.querySelector('img').src;
            lightboxImg.src = src;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
    });

    lightbox.addEventListener('click', () => {
        lightbox.classList.remove('active');
        document.body.style.overflow = '';
    });

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && lightbox.classList.contains('active')) {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }
    });
})();
</script>
